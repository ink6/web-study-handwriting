<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>使用 reduce 求和</title>
</head>

<body>
  <script>
    // arr = [1,2,3,4,5,6,7,8,9,10]，求和
    let arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
    const res = arr.reduce((prev, curr) => prev + curr, 0)
    console.log(res);

    // arr = [{a:1, b:3}, {a:2, b:3, c:4}, {a:3}]，求和
    let objArr = [{
      a: 9,
      b: 3,
      c: 4
    }, {
      a: 1,
      b: 3
    }, {
      a: 3
    }]
    const resObj = objArr.reduce((prev, curr) => {
      return prev + curr.a
    }, 0)
    console.log(resObj);

    // arr = [1,2,3,[[4,5],6],7,8,9]，求和
    let arrFlat = [1, 2, 3, [
      [4, 5], 6
    ], 7, 8, 9, 10]
    const resFlat = arrFlat.flat(Infinity).reduce((a, b) => a + b, 0)
    console.log(resFlat);

    // ES5参数求和
    function add() {
      const arr = Array.prototype.slice.call(arguments)
      return arr.reduce((a, b) => a + b, 0)
    }
    console.log(add(1, 2, 3, 4, 5, 6, 7, 8, 9, 10));

    // ES6求和
    function addES6(...args) {
      return args.reduce((a, b) => a + b, 0)
    }
    console.log(addES6(1, 2, 3, 4, 5, 6, 7, 8, 9, 10));
  </script>
</body>

</html>